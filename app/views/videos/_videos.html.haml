- if @videos.present?
  .main_table_wrap
    .dark_rounded_corners
      %table.main
        %tr
          %th.video
            .wrap
              = "Video"
              .sorting
                = link_to_sort(:date, videos_path, :default => true)
                = link_to_sort(:name, videos_path)
          %th.code= "Code"
          %th.delete
          
        - @videos.each do |video|
          %tr{ :class => cycle("", "alt") }
            %td.video
              .wrap
                .thumbnail
                  .crop
                    = image_tag(video.thumbnail.url) if video.thumbnail.url.present?
                    -#= image_tag "http://ats.vimeo.com/414/438/41443806_200.jpg"
                  %span.duration= seconds_to_duration(video.duration)
                .info
                  %h3.title{ :title => video.name }= truncate(video.name, :length => 28)
                  .storage
                    %strong= number_to_human_size(video.total_size)
                    = link_to "", :class => "toggle_desc_box" do
                      %span= "Toggle description box"
                    .desc_box{ :style => "display:none" }
                      %ul
                        %li= "Original: #{number_to_human_size(video.size)}"
                        - video.formats.each do |format|
                          %li= "#{format.name}: #{number_to_human_size(format.size)}"
                  .views
                    %strong= rand(10000)
                    %em= "views"
                  .spacer
                  .upload_date= "Uploaded on #{video.created_at.strftime('%d/%m/%Y')}"
            %td.code
              - if video.formats.all? { |f| f.active? }
                = link_to "Embed code", "", :class => "embed_code"
              - else
                .in_progress
                  %em= "In progress"
                  
            %td.delete= button_to 'Delete', video_path(video), :confirm => 'Are you sure?', :method => :delete
            
  = will_paginate(:params => { :format => nil }, :renderer => 'WillPaginate::ViewHelpers::LinkRendererRemote')
  = page_entries_info @videos