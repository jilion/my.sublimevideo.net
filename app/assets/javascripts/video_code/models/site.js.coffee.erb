class MySublimeVideo.Models.Site extends Backbone.Model
  defaults:
    token: null
    hostname: null

  title: ->
    if this.get('hostname')? && this.get('hostname') isnt '' then this.get('hostname') else "##{this.get('token')}"

class MySublimeVideo.Collections.Sites extends Backbone.Collection
  model: MySublimeVideo.Models.Site
  url: '/sites'

  select: (token) ->
    @selected = _.find this.models, (site) =>
      site.get('token') is token
    this.trigger('change')
