var MySublimeVideo=MySublimeVideo||{};document.observe("dom:loaded",function(){MySublimeVideo.initStarringForm()});MySublimeVideo.initStarringForm=function(){$$(".with_spinner").each(function(a){new SpinnerForElement(a,true)})};var SpinnerForElement=Class.create({initialize:function(a,b){this.elementId=a;this.spinner=$(this.elementId+"_spinner")?$(this.elementId+"_spinner"):null;this.updateElement=b;this.setup()},setup:function(){var a=$(this.elementId);a.on("ajax:before",function(){if(this.spinner==null){this.spinner=new Element("img",{src:"/images/embed/admin/spinner.gif"});a.insert({after:this.spinner})}if(this.updateElement){a.update(this.spinner)}this.spinner.show()}.bind(this));a.on("ajax:success",function(){if(this.spinner){this.spinner.hide()}}.bind(this))}});