every day invoice rake task at 00:01
  
  - billable users
    - next_invoiced_on == today
    - next_invoiced_on == nil && site.activated_at + trial_days == today
  
  - for each billable users
    - if current invoice exists
      - calculate overages amount (saved on invoice items)
    - else
      - create first new current invoice
      - add existing site(s) plan/addons (create invoice items)
    - flag as ready (calculate definitive amount)
    - delay charge
    
    - create new current invoice
    - add existing site(s) plan/addons (create invoice items)
    
    - set next_invoiced_on += 1.month
    
delete plan/cancel addon:
  - invoice_item's canceled_at is set on any cancel of a plan or addon
  
delete plan:
  - archived instantly
  - all tied addons are cancelled
  
cancel addon:
  - invoice_item cancelled instantly

addon:
  - addon cycle are tied to their plan cycle
  - addons are billed pro-rated using the difference between created_at & canceled_at
  
