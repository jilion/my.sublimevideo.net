# Add git remote branch locally
git checkout -t origin/production
git checkout -t origin/staging

# Add heroku git remote
git remote rm heroku (if present)
git remote add production git@heroku.com:mysublime.git
git remote add staging git@heroku.com:mysublime-staging.git

==========
= Deploy =
==========

# update your last work in master branch
git checkout staging
git merge master
rake deploy:staging or rake deploy:staging_migrations

# Test/Verify staging env
git checkout production
git merge staging
rake deploy:production_off  # maintenance page on

# wait some time for maintenance page activation
rake deploy:production or rake deploy:production_migrations
rake deploy:production_on   # maintenance page off

# back to work
git checkout master
git merge production  # in case of assets update

============
= Rollback =
============

rake deploy:staging_rollback
or
rake deploy:production_rollback
